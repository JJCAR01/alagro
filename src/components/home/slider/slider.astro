---
import './slider.css';

const slides = [
	{
		image: '/slides/banner_kits.png',
		link: 'https://www.youtube.com/'
	},
	{
		image: '/slides/slide3.png',
		link: 'https://www.youtube.com/'
	},
	{
		image: '/slides/slide3.png',
		link: 'https://www.youtube.com/'
	}
];
---

<section class="hero-slider">
	<div class="slides">
		{slides.map((slide, index) => (
			<a
				href={slide.link}
				class={`slide ${index === 0 ? 'active' : ''}`}
				style={`background-image: url(${slide.image})`}
				aria-label="Ir a sección"
			>
			</a>
		))}
	</div>

	<button class="arrow left" aria-label="Anterior">‹</button>
	<button class="arrow right" aria-label="Siguiente">›</button>

	<div class="dots"></div>
</section>


<script>
	let current = 0;
	const slides = document.querySelectorAll('.slide');
	const nextBtn = document.querySelector('.arrow.right');
	const prevBtn = document.querySelector('.arrow.left');
	const dotsContainer = document.querySelector('.dots');

	// Crear dots automáticamente
	slides.forEach((_, index) => {
		const dot = document.createElement('span');
		dot.classList.add('dot');
		if (index === 0) dot.classList.add('active');

		dot.addEventListener('click', () => {
			current = index;
			showSlide(current);
		});

		dotsContainer?.appendChild(dot);
	});

	const dots = document.querySelectorAll('.dot');

	function showSlide(index:any) {
		slides.forEach(slide => slide.classList.remove('active'));
		dots.forEach(dot => dot.classList.remove('active'));

		slides[index].classList.add('active');
		dots[index].classList.add('active');
	}

	function nextSlide() {
		current = (current + 1) % slides.length;
		showSlide(current);
	}

	function prevSlide() {
		current = (current - 1 + slides.length) % slides.length;
		showSlide(current);
	}

	nextBtn?.addEventListener('click', nextSlide);
	prevBtn?.addEventListener('click', prevSlide);

	setInterval(nextSlide, 5000);
</script>

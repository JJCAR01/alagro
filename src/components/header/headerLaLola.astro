---
import './header.css';
import LogoLaLola from '../../assets/icons/lalola_logo.png';
import LogoLaLolaBlanco from '../../assets/icons/lola_blanco.png';
import LogoLaRueda from '../../assets/icons/la_rueda_logo.png';
import LogoSlogan from '../../assets/icons/slogan.png';
import LogoAlagroSinFondo from '../../assets/icons/alagro_blanco.png';

import { listaProductosLaLola } from '../../data/productosLaLola';
import { listaProductosLaRueda } from '../../data/productosLaRueda';
import { listaProductosAlmacen } from '../../data/productosAlmacen';
---


<header class="header header-shadow">

	<div class="header-left">
		<img src={LogoLaLola.src} alt="La Lola" class="logo" />
	</div>

	<button class="menu-toggle" aria-label="Abrir menú">
		<span></span>
		<span></span>
		<span></span>
	</button>

	<nav class="header-center" id="menu">
		<a href="/">Inicio</a>
		<div class="dropdown">
			<a href="/quienes_somos" class="dropdown-toggle">Quienes somos</a>
			<div class="dropdown-content">
				<div class="dropdown-column">
					<a href="/quienes_somos" class="dropdown-title">¿Quiénes somos?</a>
					<a href="/quienes_somos#historia">Historia</a>
					<a href="/quienes_somos#marca">Nuestra marca</a>
					<a href="/quienes_somos#compromiso">Compromiso</a>
					<a href="/quienes_somos#valores">Valores corporativos</a>
					<a href="/quienes_somos#organigrama">Organigrama</a>
				</div>
				<div class="dropdown-column">
					<a href="/estatutos" class="dropdown-title">Estatutos, códigos y normas</a>
					<a href="/estatutos">Estatutos</a>
					<a href="/codigo-buen-gobierno">Código de buen gobierno</a>
					<a href="/codigo-conducta">Código de conducta</a>
					<a href="/marco-normativo-legal">Marco legal y normativo</a>
				</div>
				<div class="dropdown-column">
					<a href="#" class="dropdown-title">Gestión del riesgo</a>
					<a href="#">SARLAFT</a>
				</div>
				<div class="dropdown-column">
					<a href="#" class="dropdown-title">Asociados</a>
					<a href="/asociados#deberes">Deberes</a>
					<a href="/asociados#derechos">Derechos</a>
					<a href="/formatos">Formatos</a>
				</div>
				<div class="dropdown-column">
					<a href="#" class="dropdown-title">Infomes y balances</a>
					<a href="informes/acta-constitucion">Acta de constitución</a>
					<div class="submenu-wrapper">
						<a class="submenu-toggle">Año 2025</a>
						<div class="submenu-content">
							<a href="/informes/informe-gestion">Informe de gestión</a>
							<a href="/informes/estados-financieros">Estados financieros</a>
							<a href="/informes/dictamen-revisoria">Dictamen Revisoría fiscal</a>
							<a href="/informes/acta-asamblea">Acta asamblea</a>
							<a href="/informes/registro-esald">Actualización registros ESALD</a>
							<a href="/informes/declaracion-renta">Declaración de renta</a>
							<a href="/informes/memoria-economica">Memoria económica</a>
							<a href="/informes/certificado-antecedentes">Certificado de antecedentes</a>
							<a href="/informes/certificado-renumeracion">Certificado de renumeración directivos</a>
						</div>
					</div>
					<div class="submenu-wrapper">
						<a class="submenu-toggle">Año 2024</a>
						<div class="submenu-content">
							<a href="/informes/2024/informe-gestion">Informe de gestión</a>
							<a href="/informes/2024/estados-financieros">Estados financieros</a>
							<a href="/informes/2024/dictamen-revisoria">Dictamen Revisoría fiscal</a>
							<a href="/informes/2024/acta-asamblea">Acta asamblea</a>
							<a href="/informes/2024/registro-esald">Actualización registros ESALD</a>
							<a href="/informes/2024/declaracion-renta">Declaración de renta</a>
							<a href="/informes/2024/memoria-economica">Memoria económica</a>
							<a href="/informes/2024/certificado-antecedentes">Certificado de antecedentes</a>
							<a href="/informes/2024/certificado-renumeracion">Certificado de renumeración directivos</a>
						</div>
					</div>
					<div class="submenu-wrapper">
						<a class="submenu-toggle">Año 2023</a>
						<div class="submenu-content">
							<a href="/informes/2023/informe-gestion">Informe de gestión</a>
							<a href="/informes/2023/estados-financieros">Estados financieros</a>
							<a href="/informes/2023/dictamen-revisoria">Dictamen Revisoría fiscal</a>
							<a href="/informes/2023/acta-asamblea">Acta asamblea</a>
							<a href="/informes/2023/registro-esald">Actualización registros ESALD</a>
							<a href="/informes/2023/declaracion-renta">Declaración de renta</a>
							<a href="/informes/2023/memoria-economica">Memoria económica</a>
							<a href="/informes/2023/certificado-antecedentes">Certificado de antecedentes</a>
							<a href="/informes/2023/certificado-renumeracion">Certificado de renumeración directivos</a>
						</div>
					</div>
					<div class="submenu-wrapper">
						<a class="submenu-toggle">Año 2022</a>
						<div class="submenu-content">
							<a href="/informes/2022/informe-gestion">Informe de gestión</a>
							<a href="/informes/2022/estados-financieros">Estados financieros</a>
							<a href="/informes/2022/dictamen-revisoria">Dictamen Revisoría fiscal</a>
							<a href="/informes/2022/acta-asamblea">Acta asamblea</a>
							<a href="/informes/2022/registro-esald">Actualización registros ESALD</a>
							<a href="/informes/2022/declaracion-renta">Declaración de renta</a>
							<a href="/informes/2022/memoria-economica">Memoria económica</a>
							<a href="/informes/2022/certificado-antecedentes">Certificado de antecedentes</a>
							<a href="/informes/2022/certificado-renumeracion">Certificado de renumeración directivos</a>
						</div>
					</div>
					<div class="submenu-wrapper">
						<a class="submenu-toggle">Año 2021</a>
						<div class="submenu-content">
							<a href="/informes/2021/informe-gestion">Informe de gestión</a>
							<a href="/informes/2021/estados-financieros">Estados financieros</a>
							<a href="/informes/2021/dictamen-revisoria">Dictamen Revisoría fiscal</a>
							<a href="/informes/2021/acta-asamblea">Acta asamblea</a>
							<a href="/informes/2021/registro-esald">Actualización registros ESALD</a>
							<a href="/informes/2021/declaracion-renta">Declaración de renta</a>
							<a href="/informes/2021/memoria-economica">Memoria económica</a>
							<a href="/informes/2021/certificado-antecedentes">Certificado de antecedentes</a>
							<a href="/informes/2021/certificado-renumeracion">Certificado de renumeración directivos</a>
						</div>
					</div>				
				</div>
				<div class="dropdown-column">
					<a href="#" class="dropdown-title">Trabaja con nosotros</a>
				</div>
			</div>
		</div>
		<div class="dropdown">
			<a href="#" class="dropdown-toggle">Productos</a>
			<div class="dropdown-content">
				
				<div class="dropdown-column lola-bg">
					<a href="/productos/la-lola">
						<img src={LogoLaLolaBlanco.src} alt="La Lola" />
					</a>

					<div class="productos-lista">
						{listaProductosLaLola.map((producto:any) => (
						<a href={`/productos/la-lola/${producto.id}`}>
							{producto.name}
						</a>
						))}
					</div>
				</div>

				<div class="dropdown-column almacen-bg">
					<a href="/productos/almacen">
						<img src={LogoAlagroSinFondo.src} alt="Almacen Agropecuario" />
					</a>

					<div class="productos-lista">
						{listaProductosAlmacen.map((producto:any) => (
						<a href={`/productos/almacen/${producto.id}`}>
							{producto.name}
						</a>
						))}
					</div>
				</div>

				<div class="dropdown-column larueda-bg">
					<a href="/productos/la-rueda">
						<img src={LogoLaRueda.src} alt="La Rueda" />
					</a>

					<div class="productos-lista">
						{listaProductosLaRueda.map((producto:any) => (
						<a href={`/productos/la-rueda/${producto.id}`}>
							{producto.name}
						</a>
						))}
					</div>
				</div>

			</div>
		</div>
		<div class="dropdown">
			<a href="#" class="dropdown-toggle">Gestión social</a>
			<div class="dropdown-content">
				<div class="dropdown-column">
					<a href="/gestion/educativa" class="dropdown-title">Fondo de educación</a>
				</div>
				<div class="dropdown-column">
					<a href="/gestion/solidaridad" class="dropdown-title">Fondo de solidaridad</a>
				</div>
				<div class="dropdown-column">
					<a href="/gestion/proyectos" class="dropdown-title">Proyectos</a>
				</div>
			</div>
		</div>		
		
	
		<a href="https://appalagro.com" target="_blank" rel="noopener noreferrer">
			Acopios de leche
		</a>
		<a href="/pqrsf">PQRSF</a>
	</nav>


	<div class="header-right">
        <img src={LogoSlogan.src} alt="La Rueda" class="logo" />
	</div>
</header>

<script>
	const btn = document.querySelector('.menu-toggle');
	const menu = document.querySelector('#menu');
	const dropdownToggles = document.querySelectorAll('.dropdown-toggle');
	const submenuToggles = document.querySelectorAll('.submenu-toggle');

	if (btn && menu) {
		btn.addEventListener('click', () => {
			menu.classList.toggle('open');
			btn.classList.toggle('open');
		});
	}

	// Manejo del submenu - solo click en móvil
	submenuToggles.forEach(toggle => {
		toggle.addEventListener('click', (e) => {
			// Solo en móvil (max-width: 768px)
			if (window.innerWidth <= 768) {
				e.preventDefault();
				const submenuWrapper = toggle.closest('.submenu-wrapper');
				submenuWrapper?.classList.toggle('open');
			}
		});
	});

	// Cerrar submenu al hacer click fuera en móvil
	document.addEventListener('click', (e) => {
		if (window.innerWidth <= 768) {
			submenuToggles.forEach(toggle => {
				const submenuWrapper = toggle.closest('.submenu-wrapper');
				if (submenuWrapper && e.target instanceof Node && !submenuWrapper.contains(e.target)) {
					submenuWrapper.classList.remove('open');
				}
			});
		}
	});

	// Manejo del dropdown en móvil
	dropdownToggles.forEach(toggle => {
		toggle.addEventListener('click', (e) => {
			// Solo en móvil (max-width: 768px)
			if (window.innerWidth <= 768) {
				e.preventDefault();
				const dropdown = toggle.closest('.dropdown');
				dropdown?.classList.toggle('open');
			}
		});
	});

	// Cerrar dropdown al hacer click fuera
	document.addEventListener('click', (e) => {
		if (window.innerWidth <= 768) {
			dropdownToggles.forEach(toggle => {
				const dropdown = toggle.closest('.dropdown');
				if (dropdown && e.target instanceof Node && !dropdown.contains(e.target)) {
					dropdown.classList.remove('open');
				}
			});
		}
	});
</script>


